\documentclass{article}

\usepackage{fancyhdr}
\usepackage{extramarks}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{tikz}
\usepackage[plain]{algorithm}
\usepackage{algpseudocode}
\usepackage{enumerate}
\usepackage{amssymb}

\usetikzlibrary{automata,positioning}

%
% Basic Document Settings
%

\topmargin=-0.45in
\evensidemargin=0in
\oddsidemargin=0in
\textwidth=6.5in
\textheight=9.0in
\headsep=0.25in

\linespread{1.1}

\pagestyle{fancy}
\lhead{\hmwkAuthorName}
\chead{\hmwkClass:\ \hmwkTitle}
\rhead{\firstxmark}
\lfoot{\lastxmark}
\cfoot{\thepage}

\renewcommand\headrulewidth{0.4pt}
\renewcommand\footrulewidth{0.4pt}

\setlength\parindent{0pt}
\setlength{\parskip}{5pt}

%
% Create Problem Sections
%

\newcommand{\enterProblemHeader}[1]{
    \nobreak\extramarks{}{Problem \arabic{#1} continued on next page\ldots}\nobreak{}
    \nobreak\extramarks{Problem \arabic{#1} (continued)}{Problem \arabic{#1} continued on next page\ldots}\nobreak{}
}

\newcommand{\exitProblemHeader}[1]{
    \nobreak\extramarks{Problem \arabic{#1} (continued)}{Problem \arabic{#1} continued on next page\ldots}\nobreak{}
    \stepcounter{#1}
    \nobreak\extramarks{Problem \arabic{#1}}{}\nobreak{}
}

\setcounter{secnumdepth}{0}
\newcounter{partCounter}
\newcounter{homeworkProblemCounter}
\setcounter{homeworkProblemCounter}{1}
\nobreak\extramarks{Problem \arabic{homeworkProblemCounter}}{}\nobreak{}

%
% Homework Problem Environment
%
% This environment takes an optional argument. When given, it will adjust the
% problem counter. This is useful for when the problems given for your
% assignment aren't sequential. See the last 3 problems of this template for an
% example.
%
\newenvironment{homeworkProblem}[1][-1]{
    \ifnum#1>0
        \setcounter{homeworkProblemCounter}{#1}
    \fi
    \section{Problem \arabic{homeworkProblemCounter}}
    \setcounter{partCounter}{1}
    \enterProblemHeader{homeworkProblemCounter}
}{
    \exitProblemHeader{homeworkProblemCounter}
}

%
% Homework Details
%   - Title
%   - Due date
%   - Class
%   - Section/Time
%   - Instructor
%   - Author
%

\newcommand{\hmwkTitle}{Homework\ \#6}
\newcommand{\hmwkDueDate}{Nov 8, 2024}
\newcommand{\hmwkClass}{MATH 220A}
\newcommand{\hmwkClassInstructor}{Professor Ebenfelt}
\newcommand{\hmwkAuthorName}{\textbf{Ray Tsai}}
\newcommand{\hmwkPID}{A16848188}

%
% Title Page
%

\title{
    \vspace{2in}
    \textmd{\textbf{\hmwkClass:\ \hmwkTitle}}\\
    \normalsize\vspace{0.1in}\small{Due\ on\ \hmwkDueDate\ at 23:59pm}\\
    \vspace{0.1in}\large{\textit{\hmwkClassInstructor}} \\
    \vspace{3in}
}

\author{
  \hmwkAuthorName \\
  \vspace{0.1in}\small\hmwkPID
}
\date{}

\renewcommand{\part}[1]{\textbf{\large Part \Alph{partCounter}}\stepcounter{partCounter}\\}

%
% Various Helper Commands
%

% Useful for algorithms
\newcommand{\alg}[1]{\textsc{\bfseries \footnotesize #1}}

% For derivatives
\newcommand{\deriv}[1]{\frac{\mathrm{d}}{\mathrm{d}x} (#1)}

% For partial derivatives
\newcommand{\pderiv}[2]{\frac{\partial}{\partial #1} (#2)}

% Integral dx
\newcommand{\dx}{\mathrm{d}x}

% Probability commands: Expectation, Variance, Covariance, Bias
\newcommand{\Var}{\mathrm{Var}}
\newcommand{\Cov}{\mathrm{Cov}}
\newcommand{\Bias}{\mathrm{Bias}}
\newcommand*{\Z}{\mathbb{Z}}
\newcommand*{\Q}{\mathbb{Q}}
\newcommand*{\R}{\mathbb{R}}
\newcommand*{\C}{\mathbb{C}}
\newcommand*{\N}{\mathbb{N}}
\newcommand*{\prob}{\mathds{P}}
\newcommand*{\E}{\mathds{E}}

\begin{document}

\maketitle

\pagebreak

\begin{homeworkProblem}
	If $Tz = \frac{az + b}{cz + d}$, find $z_2, z_3, z_4$ (in terms of $a, b, c, d$) such that $Tz =
	(z, z_2, z_3, z_4)$.

	\begin{proof}
		Solving
		\[
			Tz_2 = \frac{az_2 + b}{cz_2 + d} = 1, \quad Tz_3 = \frac{az_3 + b}{cz_3 + d} = 0, \quad Tz_4 = \frac{az_4 + b}{cz_4 + d} = \infty,
		\]
		we get $z_2 = \frac{d - b}{a - c}$, $z_3 = \frac{-b}{a}$, and $z_4 = -\frac{d}{c}$.
	\end{proof}
\end{homeworkProblem}

\newpage

\begin{homeworkProblem}
	If $Tz = \frac{az + b}{cz + d}$, find necessary and sufficient conditions that $T(\Gamma) =
	\Gamma$ where $\Gamma$ is the unit circle $\{ z : |z| = 1 \}$.

	\begin{proof}
		Note that $T(\Gamma) = \Gamma$ if and only if $T^{-1}(\Gamma) = \Gamma$, and thus $T^{-1}$
		perseves the symmetry between $0$ and $\infty$. Let $k = T^{-1}(0) \notin \Gamma$. By the
		calculation in the textbook, $k$ is symmetric to $\frac{1}{\bar{k}}$. That is, $T(\frac{1}{k}) =
		\infty$. Solving
		\[
			\begin{cases}
				\frac{ak + b}{ck + d} = 0, \\
				\frac{\frac{a}{\bar{k}} + b}{\frac{c}{\bar{k}} + d} = \infty
			\end{cases},
		\]
		we have $b = -ak, d = -\frac{c}{\bar{k}}$. Put $m = \frac{a}{c}$ and $T$ is of the form
		\[
			Tz = \frac{m(z - k)}{z - \frac{1}{\bar{k}}}.
		\]
		If $k = 0$ or $\infty$, then $Tz = mz$ or $Tz = \frac{m}{z}$, so $T(\Gamma) = \Gamma$ if and
		only if $m \in \Gamma$. Suppose otherwise. Notice
		\begin{align*}
			|Tz|^2
			&= |m\bar{k}|^2\left(\frac{z - k}{\bar{k}z - 1}\right)\left(\frac{\bar{z} - \bar{k}}{k\bar{z} - 1}\right) \\
			&= |m\bar{k}|^2\left(\frac{|z|^2 + |k|^2 - 2Re(z\bar{k})}{|k|^2|z|^2 + 1 - 2Re(z\bar{k})}\right).
		\end{align*}
		But then when $z \in \Gamma$, $|Tz|^2 = |m\bar{k}|^2$. Thus in this case, $T(\Gamma) = \Gamma$
		if and only if $k \notin \Gamma$ and $m\bar{k} \in \Gamma$. 
		
		Cominbing the two cases, we have $T(\Gamma) = \Gamma$ if and only if 
		\[
			Tz = \frac{m(z - k)}{z - \frac{1}{\bar{k}}},
		\]
		where $k \notin \Gamma$, $m \in \Gamma$ if $k = 0, \infty$ and $m\bar{k} \in \Gamma$ otherwise.
	\end{proof}
\end{homeworkProblem}

\newpage

\begin{homeworkProblem}
	Let $D = \{ z : |z| < 1 \}$ and find all Möbius transformations $T$ such that $T(D) = D$.

	\begin{proof}
		We show that $T(D) = D$ if and only if $T^{-1}(0) \in D$. Obviously if $T(D) = D$ we have
		$T^{-1}(0) \in D$. Now suppose $k = T^{-1}(0) \in D$. Since $T$ is continuous, $T(\partial D) =
		\partial D$, where $\partial D = \Gamma$ is the unit circle. By the previous problem, $T$ is of
		the form
		\[
			Tz = \frac{m(z - k)}{z - \frac{1}{\bar{k}}}.
		\]
		Suppose $z \in D$. It suffices to show that $|Tz| < 1$. If $k = 0$ then $Tz = mz$ and $|Tz| =
		|mz| < 1$. Suppose $k \neq 0$. By the previous problem,
		\[
			|Tz|^2 = |m\bar{k}|^2\left(\frac{|z|^2 + |k|^2 - 2Re(z\bar{k})}{|k|^2|z|^2 + 1 - 2Re(z\bar{k})}\right).
		\]
		Since $|k|^2(1 - |z|^2) < 1 - |z|^2$ for $k, z \in D$, 
		\[
			|z|^2 + |k|^2 < |k|^2|z|^2 + 1,
		\]
		and so $|Tz|^2 < 1$. 
	\end{proof}
\end{homeworkProblem}

\newpage

\begin{homeworkProblem}
	Let $G$ be a region and suppose that $f: G \rightarrow \C$ is analytic such that $f(G)$ is a
	subset of a circle. Show that $f$ is constant.

	\begin{proof}
		Let $z_2, z_3, z_4 \in G$ such that $f(z_2), f(z_3), f(z_4)$ are distinct. Let $T$ be a Möbius
		transformation such that $Tz = \frac{az + b}{cz + d} = (z, f(z_2), f(z_3), f(z_4))$. Since $T$
		is analytic and $T(f(z)) \in \R_{\infty}$ for all $z \in G$, $T(f(z))$ is constant by exercise
		3.2.14. Thus,
		\[
			(T(f(z)))' = T'(f(z))f'(z) = \frac{ad - bc}{(cf(z) + d)^2}f'(z) = 0.
		\]
		Since $ad - bc \neq 0$, $f'(z) = 0$ for all $z \in G$ with $z \neq z_4$. But then $G$ is
		connected and $f'$ is continuous, so $\lim_{z \to z_4} f'(z) = f'(z_4) = 0$. Hence, $f' = 0$ and
		the result now follows.
	\end{proof}
\end{homeworkProblem}

\newpage

\begin{homeworkProblem}
	Show that a Möbius transformation $T$ satisfies $T(0) = \infty$ and $T(\infty) = 0$ iff $Tz =
	kz^{-1}$ for some $k$ in $\mathbb{C}$.

	\begin{proof}
		Let $Tz = \frac{az + b}{cz + d}$. The converse is trivial. Suppose $T(0) = \infty$, and
		$T(\infty) = 0$. Then $Tz = (z, z_2, \infty, 0)$ for some $k$. By the first problem of this
		homework, 
		\[
			\frac{-b}{a} = \infty, \quad \frac{-d}{c} = 0,
		\]
		which implies $a = d = 0$. Hence, $T = \frac{b}{c}z^{-1}$.
	\end{proof}
\end{homeworkProblem}
\end{document}